# Product Requirements Document (PRD)
# 여행 앨범 앱 개선 프로젝트

## 📋 문서 정보
- **프로젝트명**: TravelLog Album Enhancement
- **버전**: 1.0 (Released)
- **작성일**: 2025-12-15
- **상태**: Final

---

## 🎯 프로젝트 개요

### 목적
기존 여행 앨범 앱을 개선하여 사진 관리뿐만 아니라 여행 일정 관리, 비용 추적, 스토리보드 생성 등 종합적인 여행 관리 플랫폼으로 전환. React와 Firebase를 활용한 현대적인 웹 애플리케이션 구축.

### 핵심 가치 제안
- **All-in-One**: 사진, 일정, 스토리보드가 통합된 여행 관리
- **AI-Powered**: Gemini AI를 활용한 문구 추천, 이모지 생성, 사진 분석
- **Private & Safe**: 지인 기반의 승인제 커뮤니티

---

## 👥 사용자 페르소나

### 주요 타겟
- **연령대**: 20-40대 여행 애호가
- **니즈**: 
  - 흩어진 여행 사진을 감성적인 앨범으로 정리
  - 타임라인 기반의 일관된 여행 일정 관리
  - 나만의 캐릭터(이모지)를 활용한 소셜 공유

---

## 🎨 주요 기능 명세 (Implemented)

### 1. 인증 및 사용자 관리
#### 1.1 승인 기반 회원가입
- 이메일/비밀번호 기반 회원가입
- **승인 대기 시스템**: 가입 신청 시 `pending` 상태로 시작되며 자동 로그인 방지 (`auth.signOut`)
- **관리자 패널**: 관리자가 가입 요청을 승인(`approved`)하거나 거부(`rejected`) 가능
- 관리자 패널 상단에 관리자 실명 및 이메일 표시로 신원 확인 강화

#### 1.2 로그인 및 세션
- 승인된 사용자만 로그인 가능
- 비승인 계정 로그인 시도 시 안내 메시지 표시

### 2. 사진 업로드 및 갤러리
#### 2.1 스마트 업로드
- 다중 이미지 업로드 및 미리보기
- **AI 분석 (Gemini)**: 사진의 장소, 분위기 분석 및 10가지 감성 캡션 자동 생성
- 날짜/시간 메타데이터 자동 추출 및 정렬

#### 2.2 갤러리 뷰
- **필터링**: 전체 보기, 날짜별 보기, 장소별 보기 탭 제공
- **반응형 그리드**: 다양한 화면 크기에 최적화된 Masonry 스타일 그리드
- **다중 선택 모드**: 여러 사진을 선택하여 삭제 또는 스토리보드/이모지 생성으로 연동

### 3. 여행 스토리보드 & 로드맵
#### 3.1 스토리보드
- 선택한 사진들로 감성적인 여행기 자동 구성
- **PDF 내보내기**: A4 규격에 맞춘 고품질 PDF 저장 (잘림 방지)
- 인쇄 미리보기 기능 지원

#### 3.2 여행 로드맵
- 일자별(Day N) 일정 시각화
- 타임라인 형태의 직관적인 UI
- **PDF 저장**: 가로(Landscape) 모드 지원으로 긴 타임라인도 한눈에 확인 가능

### 4. AI 이모지 제너레이터 (New!)
#### 4.1 Polaroid UI
- 직관적인 폴라로이드 사진 컨셉의 인터페이스
- 원본 사진 업로드 -> AI 분석 -> 3D 이모지 변환 과정 시각화

#### 4.2 생성 기능
- **3D 캐릭터 스타일**: Canvas API와 필터를 활용한 입체감 있는 이모지 시뮬레이션
- **8가지 감정 표현**: Happy, Cool, Love, Surprised, Wink, Laughing, Thinking, Party
- **자동 얼굴 크롭**: 얼굴 부분을 자동으로 인식하여 원형 크롭 (Simulated)

#### 4.3 저장 및 활용
- **스티커 모드**: 배경이 투명한 PNG로 개별 다운로드
- **팩 다운로드**: 8개 이모지 세트를 하나의 이미지로 저장

---

## 💾 기술 스택 및 데이터

### Frontend
- **Framework**: React, Vite
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **Visualization**: Framer Motion (애니메이션), Lucide React (아이콘)
- **Utility**: html2canvas, jsPDF (PDF 생성)

### Backend (Firebase)
- **Authentication**: 이메일 로그인, 관리자 권한 관리
- **Firestore**: 
  - `users`: 사용자 정보 및 승인 상태
  - `photos`: 사진 메타데이터
  - `itineraries`: 여행 일정 데이터
- **Storage**: 원본 사진 및 썸네일 저장

### AI Integration
- **Model**: Google Gemini 2.0 Flash Exp
- **Usage**: 이미지 분석, 캡션 생성, 이모지 스타일링 프롬프트

---

## 🚀 배포 (Deployment)
- **Platform**: Vercel
- **CI/CD**: GitHub Repository 연동 (`main` 브랜치 자동 배포)
- **URL**: `https://travellog-album.vercel.app` (예시)

---

## 📝 제약사항 및 향후 계획
- **현재**: 3D 이모지 생성은 클라이언트 측 시뮬레이션 효과 사용.
- **향후(Next)**: DALL-E 3나 Midjourney API 연동을 통한 리얼타임 고품질 3D 생성 구현 검토.
- **데이터 보관**: 현재 30일 보관 정책은 수동 관리 중 (향후 Cloud Functions로 자동화 필요).
